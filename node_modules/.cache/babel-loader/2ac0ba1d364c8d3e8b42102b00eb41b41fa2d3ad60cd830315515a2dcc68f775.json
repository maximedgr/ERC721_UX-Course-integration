{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MAXD0\\\\Desktop\\\\ESILV\\\\A4\\\\blockchain programming\\\\my_front\\\\src\\\\components\\\\pages\\\\FakeBayc.js\";\nimport React, { Component } from \"react\";\nimport FakeBaycABI from \"../ABI/FakeBAYC.json\";\nimport Web3 from \"web3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass FakeBayc extends Component {\n  async UNSAFE_componentWillMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n  }\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      window.alert('No etehereum browser detected ! Check out your Metamask!');\n    }\n  }\n  async loadBlockchainData() {\n    const web3 = window.web3;\n    const account = await web3.eth.getAccounts();\n    this.setState({\n      account: account[0]\n    });\n    const networkId = await web3.eth.net.getId();\n\n    //Load Tether Contract\n    const tetherData = Tether.networks[networkId];\n    if (tetherData) {\n      const tether = new web3.eth.Contract(Tether.abi, tetherData.address);\n      this.setState({\n        tether\n      });\n      let tetherBalance = await tether.methods.balanceOf(this.state.account).call();\n      this.setState({\n        tetherBalance: tetherBalance.toString()\n      });\n      console.log({\n        balance: tetherBalance\n      });\n    } else {\n      window.alert('Error : tether contract not deployed / no detected network');\n    }\n    this.setState({\n      loading: false\n    });\n  }\n  render() {\n    /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"FakeBayc\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this);\n  }\n}\nexport default FakeBayc;","map":{"version":3,"names":["React","Component","FakeBaycABI","Web3","FakeBayc","UNSAFE_componentWillMount","loadWeb3","loadBlockchainData","window","ethereum","web3","enable","currentProvider","alert","account","eth","getAccounts","setState","networkId","net","getId","tetherData","Tether","networks","tether","Contract","abi","address","tetherBalance","methods","balanceOf","state","call","toString","console","log","balance","loading","render"],"sources":["C:/Users/MAXD0/Desktop/ESILV/A4/blockchain programming/my_front/src/components/pages/FakeBayc.js"],"sourcesContent":["import React,{Component} from \"react\";\nimport FakeBaycABI from \"../ABI/FakeBAYC.json\"\nimport Web3 from \"web3\";\n\n\nclass FakeBayc extends Component {\n\n    async UNSAFE_componentWillMount(){\n        await this.loadWeb3()\n        await this.loadBlockchainData()\n    }\n\n    async loadWeb3(){\n        if(window.ethereum){\n            window.web3 = new Web3(window.ethereum)\n            await window.ethereum.enable()\n        } \n        else if(window.web3){\n            window.web3 = new Web3(window.web3.currentProvider)\n        }\n        else{\n            window.alert('No etehereum browser detected ! Check out your Metamask!')\n        }\n    }\n\n    async loadBlockchainData(){\n        const web3 = window.web3\n        const account = await web3.eth.getAccounts()\n        this.setState({account : account[0]})\n        const networkId = await web3.eth.net.getId()\n\n\n        //Load Tether Contract\n        const tetherData = Tether.networks[networkId]\n\n        if(tetherData){\n            const tether = new web3.eth.Contract(Tether.abi, tetherData.address)\n            this.setState({tether})\n            let tetherBalance = await tether.methods.balanceOf(this.state.account).call()\n            this.setState({tetherBalance : tetherBalance.toString()})\n            console.log({balance: tetherBalance})\n        } else{\n            window.alert('Error : tether contract not deployed / no detected network')\n        }\n\n        this.setState({loading : false})\n\n    }\n\n  render() {\n    <div>FakeBayc</div>\n  }\n}\n\nexport default FakeBayc;"],"mappings":";AAAA,OAAOA,KAAK,IAAEC,SAAS,QAAO,OAAO;AACrC,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,OAAOC,IAAI,MAAM,MAAM;AAAC;AAGxB,MAAMC,QAAQ,SAASH,SAAS,CAAC;EAE7B,MAAMI,yBAAyB,GAAE;IAC7B,MAAM,IAAI,CAACC,QAAQ,EAAE;IACrB,MAAM,IAAI,CAACC,kBAAkB,EAAE;EACnC;EAEA,MAAMD,QAAQ,GAAE;IACZ,IAAGE,MAAM,CAACC,QAAQ,EAAC;MACfD,MAAM,CAACE,IAAI,GAAG,IAAIP,IAAI,CAACK,MAAM,CAACC,QAAQ,CAAC;MACvC,MAAMD,MAAM,CAACC,QAAQ,CAACE,MAAM,EAAE;IAClC,CAAC,MACI,IAAGH,MAAM,CAACE,IAAI,EAAC;MAChBF,MAAM,CAACE,IAAI,GAAG,IAAIP,IAAI,CAACK,MAAM,CAACE,IAAI,CAACE,eAAe,CAAC;IACvD,CAAC,MACG;MACAJ,MAAM,CAACK,KAAK,CAAC,0DAA0D,CAAC;IAC5E;EACJ;EAEA,MAAMN,kBAAkB,GAAE;IACtB,MAAMG,IAAI,GAAGF,MAAM,CAACE,IAAI;IACxB,MAAMI,OAAO,GAAG,MAAMJ,IAAI,CAACK,GAAG,CAACC,WAAW,EAAE;IAC5C,IAAI,CAACC,QAAQ,CAAC;MAACH,OAAO,EAAGA,OAAO,CAAC,CAAC;IAAC,CAAC,CAAC;IACrC,MAAMI,SAAS,GAAG,MAAMR,IAAI,CAACK,GAAG,CAACI,GAAG,CAACC,KAAK,EAAE;;IAG5C;IACA,MAAMC,UAAU,GAAGC,MAAM,CAACC,QAAQ,CAACL,SAAS,CAAC;IAE7C,IAAGG,UAAU,EAAC;MACV,MAAMG,MAAM,GAAG,IAAId,IAAI,CAACK,GAAG,CAACU,QAAQ,CAACH,MAAM,CAACI,GAAG,EAAEL,UAAU,CAACM,OAAO,CAAC;MACpE,IAAI,CAACV,QAAQ,CAAC;QAACO;MAAM,CAAC,CAAC;MACvB,IAAII,aAAa,GAAG,MAAMJ,MAAM,CAACK,OAAO,CAACC,SAAS,CAAC,IAAI,CAACC,KAAK,CAACjB,OAAO,CAAC,CAACkB,IAAI,EAAE;MAC7E,IAAI,CAACf,QAAQ,CAAC;QAACW,aAAa,EAAGA,aAAa,CAACK,QAAQ;MAAE,CAAC,CAAC;MACzDC,OAAO,CAACC,GAAG,CAAC;QAACC,OAAO,EAAER;MAAa,CAAC,CAAC;IACzC,CAAC,MAAK;MACFpB,MAAM,CAACK,KAAK,CAAC,4DAA4D,CAAC;IAC9E;IAEA,IAAI,CAACI,QAAQ,CAAC;MAACoB,OAAO,EAAG;IAAK,CAAC,CAAC;EAEpC;EAEFC,MAAM,GAAG;IACP;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAmB;EACrB;AACF;AAEA,eAAelC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}